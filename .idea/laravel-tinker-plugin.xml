<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="laravelTinkerProject">
    <option name="lastCode" value="&lt;?php&#10;&#10;use Illuminate\Support\Facades\Storage;&#10;&#10;$id='4a2cf67f-05ce-4717-b465-6df45420064f';&#10;&#10;$allPart=\App\Models\LargeFileMediaLibrary::where('file_id',$id)-&gt;get();&#10;$first=$allPart-&gt;first();&#10;$allId=$allPart-&gt;pluck('id')-&gt;toArray();&#10;//dd($first);&#10;$total=$first-&gt;total_part;&#10;$pathToStoreRaw=['large-media-library',implode('-',[reset($allId),last($allId)])];&#10;if($allPart-&gt;count()==$total) {&#10;&#10;    $allPart = $allPart-&gt;toArray();&#10;    $file = [&#10;        'name' =&gt; $first-&gt;file_id,&#10;        'total_part' =&gt; $total,&#10;        'model' =&gt; $first-&gt;model,&#10;        'collection' =&gt; $first-&gt;model,&#10;        'final_path' =&gt; null,&#10;        'chunk_to_join' =&gt; [],&#10;        'file_store_name'=&gt;$first-&gt;file_name,&#10;        'file_store_ext'=&gt;$first-&gt;file_ext,&#10;    ];&#10;&#10;  //  dd($allPart);&#10;  &#10;    foreach ($allPart as $k=&gt;$filePart) {&#10;        $pathToStorecurrent=array_merge($pathToStoreRaw,['part',implode('.',[$file['name'],'p'])]);&#10;        $pathToStoreFinal=array_merge($pathToStoreRaw,['final',implode('.',[$file['file_store_name'],$file['file_store_ext']])]);&#10;        $f= Storage::disk('root')-&gt;append(implode('/',$pathToStorecurrent), $filePart['raw_data']);&#10;        $dataToMerge = $filePart['raw_data'];&#10;        if($filePart['id'] == last($allId)) {$f=Storage::disk('root')-&gt;move(implode('/',$pathToStorecurrent), implode('/',$pathToStoreFinal));}&#10;        &#10;        &#10;        &#10;        &#10;        &#10;    }&#10;    &#10;&#10;    &#10;}" />
  </component>
</project>